---
marp: true
---

# 1. 성능과 최적화

## 최 혁

---

# 자바 성능 개요

- 자바는 일을 하려고 만든 지극히 실용적인 언어이기에 개발 생산성을 위한 성능 희생이 있다.
- managed subsystem을 통해 개발자가 관리해야 할 부담을 덜어준다.(ex. 메모리 관리)
- 반대급부로, JVM 전반에 걸쳐 등장하는 managed subsystem은 그 존재 자체로 JVM 애플리케이션의 런타임 동작에 복잡도를 유발한다.
- 환경이 복잡해 질수록 시스템을 개별적으로 떼어내 생각하기 어렵기에 자바 성능 측정값에 대한 판단은 조심해야 한다.
- 성능을 측정하는 행위 자체도 오버헤드를 일으키기에 너무 자주 샘플링하거나 매번 결과를 기록하는 것 또한 성능 결과 수치에 영향을 미친다.

---

# 성능 분류

### 처리율

> 시스템이 수행 가능한 작업 비율을 나타낸 지표로 보통 `일정 시간 동안 완료한 작업의 단위 수`로 표시한다.

- ex) 초당 처리 가능한 트랜잭션 수
- 처리율이 실제 성능을 반영하는 의미 있는 지표가 되려면 수치를 얻은 플랫폼에 대한 내용(하드웨어 스펙 등)도 기술해야 한다.

### 지연

> 예를 들어 1초에 100리터를 흘려보내는 `수도관 자체의 길이`이다. 즉, 하나의 트랜잭션을 처리하고 그 결과를 반대편 수도관 끝에서 바라볼 때까지 소요된 시간이다.

---

### 용량

> 시스템이 보유한 작업 병렬성의 총량. 즉 `시스템이 동시 처리 가능한 작업 단위(트랜잭션)` 개수를 말한다.

- 용량은 처리율과 밀접한 관련이 있다.
- 보통 용량은 어떤 처리율 또는 지연 값을 전제로 가능한 처리량으로 표시한다.

### 사용률

> 말 그대로 자원의 사용률이다.

- 사용률은 워크로드에 따라 리소스별로 들쑥날쑥하다.
- 계산 집약적 워크로드(그래픽 처리, 암호화)를 주면 CPU 사용률은 100%에 육박하지만, 메모리 사용률은 얼마 안 나온다.

---

### 효율

> `처리율을 리소스 사용률로 나눈 값`이다.

- 같은 처리율을 더 많은 리소스를 들여야 달성할 수 있다면 효율이 낮다고 할 수 있다.

### 확장성

- 리소스 추가에 따른 처리율의 변화는 시스템/애플리케이션의 확장성을 가늠하는 척도이다.
- 시스템 확장성은 궁극적으로 리소스를 투입한 만큼 처리율이 변경되는 것을 지향한다.
- 현실적으로 클러스터를 2배 늘리면 트랜잭션 처리량도 2배로 늘리기는 어렵다.

---

### 저하

> 시스템 사용률이 높을 때 부하가 증가하면 처리율이 더는 늘어나지 않는, 지연 현상이 발생하는데 이런 현상을 부하 증가에 따른 저하라 한다.

### 측정값 사이의 연관 관계

- 다양한 성능 측정값은 어떤 식으로든 서로 연결되어 있다.
